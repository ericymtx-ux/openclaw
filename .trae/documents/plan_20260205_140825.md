# Android Phone MCP 开发计划 (Phase 3: 坐标转换与高级控制)

根据 `TODO.md` 中的规划，我们目前完成了 P0/P1 的大部分工作（API 集成、截图），接下来的重点是 **坐标转换 (T104)** 和 **高级控制**。

## 1. 坐标转换工具 (Coordinate Normalization)
VLM 模型（如 GPT-4V 或 Doubao-Vision）通常输出归一化坐标 [0-1000]，而 Android 设备分辨率各异（如 1080x1920）。我们需要一个自动转换层。

- [ ] **实现 `normalize_coordinates`**: 将 `(x, y)` 转换为 `(norm_x, norm_y)` (0-1000)。
- [ ] **实现 `denormalize_coordinates`**: 将 `(norm_x, norm_y)` 转换为屏幕真实像素 `(pixel_x, pixel_y)`。
- [ ] **更新 `tap` 工具**: 增加 `normalized: bool` 参数，支持直接传入 VLM 输出的归一化坐标。

## 2. 系统级操作 (System Actions)
为了让 Agent 能处理更多场景（如应用崩溃、锁屏），需要增加系统级工具。

- [ ] **实现 `list_apps`**: 列出已安装的第三方应用，方便 Agent 查找包名。
- [ ] **实现 `unlock_device`**: 尝试唤醒并解锁屏幕（简单的 Swipe unlock）。

## 3. 性能优化 (Optimization)
- [ ] **优化 `get_screenshot`**: 增加 `scale` 参数，允许 Agent 指定截图缩放比例，进一步节省 Token。

---

**是否执行 Phase 3 开发计划？**