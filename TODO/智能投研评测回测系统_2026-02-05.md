# 智能投研评测与回测系统

**创建日期**: 2026-02-05
**优先级**: P1
**状态**: 待开发

---

## 目标

实现智能投研信号的评测、回测、追踪系统，让信号有据可依。

---

## Phase 1: 评测指标计算

### T065: 命中率计算模块
- [ ] 实现 hit_rate(signals) 函数
- [ ] 支持按信号类型分组统计
- [ ] 支持按时间范围筛选
- [ ] 测试用例

### T066: 盈亏比计算模块
- [ ] 实现 risk_reward_ratio(signals) 函数
- [ ] 平均盈利/平均亏损
- [ ] 测试用例

### T067: 期望值计算模块
- [ ] 实现 expected_value(signals) 函数
- [ ] 公式: 命中率×平均盈利 - (1-命中率)×平均亏损
- [ ] 测试用例

### T068: 夏普比率计算模块
- [ ] 实现 sharpe_ratio(signals) 函数
- [ ] 无风险利率假设 3%
- [ ] 测试用例

---

## Phase 2: 回测引擎

### T069: BacktestEngine 核心类
- [ ] 初始资金配置
- [ ] 持仓管理
- [ ] 交易记录
- [ ] 每日收益率计算

### T070: 仓位管理
- [ ] 固定仓位
- [ ] 凯利公式
- [ ] 动态仓位

### T071: 买入/卖出规则
- [ ] 止盈止损
- [ ] 均线止损
- [ ] 信号失效

### T072: 回测报告生成
- [ ] 收益分析
- [ ] 风险分析
- [ ] 分类统计

---

## Phase 3: 信号追踪

### T073: 每日验证调度
- [ ] 收盘后自动执行
- [ ] 更新 N 日后价格
- [ ] 计算收益

### T074: 胜率统计更新
- [ ] 自动更新命中率
- [ ] 自动更新盈亏比
- [ ] 历史趋势

### T075: 置信度计算
- [ ] 热度排名得分
- [ ] 板块联动得分
- [ ] 历史胜率得分

---

## Phase 4: 报表生成

### T076: Telegram 快览版
- [ ] Top 5 信号
- [ ] 置信度星级
- [ ] 简洁格式

### T077: Markdown 详情版
- [ ] 完整信号列表
- [ ] 风险提示
- [ ] 历史统计

---

## 依赖

- `stock_stars` 信号存储
- `memory-vector-db` 知识库

---

*最后更新: 2026-02-05*
